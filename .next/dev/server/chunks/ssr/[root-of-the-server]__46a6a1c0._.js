module.exports = [
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[project]/src/app/layout.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/layout.tsx [app-rsc] (ecmascript)"));
}),
"[project]/src/App.tsx [app-rsc] (client reference proxy) <module evaluation>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
// This file is generated by next-core EcmascriptClientReferenceModule.
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/App.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/App.tsx <module evaluation>", "default");
}),
"[project]/src/App.tsx [app-rsc] (client reference proxy)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
// This file is generated by next-core EcmascriptClientReferenceModule.
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/App.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/App.tsx", "default");
}),
"[project]/src/App.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$App$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/App.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$App$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/src/App.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$App$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/src/lib/wp.ts [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getLandingData",
    ()=>getLandingData,
    "getLandingModules",
    ()=>getLandingModules,
    "getMenus",
    ()=>getMenus,
    "getSiteOptions",
    ()=>getSiteOptions
]);
const WP_API_BASE = process.env.WP_API_BASE ?? "https://wp.nomasarriendo.cl/wp-json";
const WP_MENU_ENDPOINT = process.env.WP_MENU_ENDPOINT ?? "https://wp.nomasarriendo.cl/wp-json/nomasarriendo/v1/menus";
const WP_FRONT_PAGE_ENDPOINT = process.env.WP_FRONT_PAGE_ENDPOINT ?? `${WP_API_BASE}/nomasarriendo/v1/front-page`;
const WP_SITE_OPTIONS_ENDPOINT = process.env.WP_SITE_OPTIONS_ENDPOINT ?? `${WP_API_BASE}/nomasarriendo/v1/site-options`;
async function fetchJson(url) {
    const response = await fetch(url, {
        next: {
            revalidate: 60
        }
    });
    if (!response.ok) {
        throw new Error(`WP request failed: ${response.status} ${url}`);
    }
    return response.json();
}
async function getMenus() {
    try {
        return await fetchJson(WP_MENU_ENDPOINT);
    } catch (error) {
        console.warn("Failed to load menus", error);
        return {
            header: [],
            footer: []
        };
    }
}
async function getSiteOptions() {
    try {
        const data = await fetchJson(WP_SITE_OPTIONS_ENDPOINT);
        return data ?? {};
    } catch (error) {
        console.warn("Failed to load site options", error);
        return {};
    }
}
async function getLandingModules() {
    try {
        const frontPageId = await getFrontPageId();
        if (!frontPageId) {
            return [];
        }
        const pageUrl = `${WP_API_BASE}/wp/v2/pages/${frontPageId}?acf_format=standard`;
        const page = await fetchJson(pageUrl);
        return page?.acf?.modules ?? [];
    } catch (error) {
        console.warn("Failed to load landing modules", error);
        return [];
    }
}
async function getFrontPageId() {
    try {
        const data = await fetchJson(WP_FRONT_PAGE_ENDPOINT);
        return data.id ?? data.page_id ?? null;
    } catch (error) {
        console.warn("Failed to load front page id", error);
        return null;
    }
}
async function getLandingData() {
    const [menus, options, modules] = await Promise.all([
        getMenus(),
        getSiteOptions(),
        getLandingModules()
    ]);
    return {
        menus,
        options,
        modules
    };
}
}),
"[project]/src/app/page.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>Page
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$App$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/App.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$wp$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/wp.ts [app-rsc] (ecmascript)");
;
;
;
async function Page() {
    const { menus, options, modules } = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$wp$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getLandingData"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$App$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
        menus: menus,
        options: options,
        modules: modules
    }, void 0, false, {
        fileName: "[project]/src/app/page.tsx",
        lineNumber: 6,
        columnNumber: 10
    }, this);
}
}),
"[project]/src/app/page.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/page.tsx [app-rsc] (ecmascript)"));
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__46a6a1c0._.js.map